<!doctype html>
<html lang="en">
  @include('partials/head')
  <body>
    <div class="app-container app-theme-white body-tabs-shadow fixed-header fixed-sidebar" id="announcementPage">
        @include('partials/admin/header')
        <div class="app-main">
          @include('partials/admin/sidebar')
          <div class="app-main__outer">
            <div class="app-main__inner">
              <div class="app-page-title app-page-title-simple">
                <div class="page-title-wrapper">
                  <div class="page-title-heading">
                    <div>
                      <div class="page-title-head center-elem">
                        <span class="d-inline-block pe-2">
                          <i class="lnr-apartment opacity-6"></i>
                        </span>
                        <span class="d-inline-block">Announcements</span>
                      </div>
                      <div class="page-title-subheading opacity-10">
                        <nav class="" aria-label="breadcrumb">
                          <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                              <a>
                                <i aria-hidden="true" class="fa fa-home"></i>
                              </a>
                            </li>
                            <li class="breadcrumb-item">
                              <a>Dashboards</a>
                            </li>
                            <li class="active breadcrumb-item" aria-current="page">
                              Announcement
                            </li>
                          </ol>
                        </nav>
                      </div>
                    </div>
                  </div>
                  
                </div>
              </div>
            <button class="btn btn-primary mb-2" v-on:click="openAddModal">
              <i class="fas fa-plus"></i>
              Create Announcement
            </button>
              <div class="main-card mb-3 card p-5" v-cloak>
                <table class="table">
                  <thead>
                    <th>Title</th>
                    <th>Created At</th>
                    <th></th>
                  </thead>
                  <tbody>
                    <tr v-for="announcement in announcements">
                      <td>${announcement.title}</td>
                      <td>${toReadableDatetime(announcement.createdAt)}</td>
                      <td>
                        <div class="d-flex gap-2">
                          <button class="btn btn-outline-primary" v-on:click="initEdit(announcement)">Edit</button>
                          <button class="btn btn-outline-danger" v-on:click="initDelete(announcement)">Delete</button>
  
                        </div>
          
                      </td>
                    </tr>
                   
                  </tbody>
                </table>
                
               
              </div>
            </div>
            @include('partials/admin/footer')
          </div>
      
        </div>

        @!component('components/announcements/add-announcement-modal')
        @!component('components/announcements/edit-announcement-modal')
    </div>
    
    @include('partials/scripts')
    @vite(['resources/ts/announcements/announcements.ts'])
  </body>
</html>
